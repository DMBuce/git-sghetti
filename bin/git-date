#!/bin/bash

# define some vars
prog="${0##*/}"
SUBDIRECTORY_OK=Yes
NONGIT_OK=
USAGE='<args>'
LONG_USAGE='use the output of `date <args>` to change the timestamp on the last commit.'

# set up shell functions, define $GIT_DIR, $GIT_OBJECT_DIRECTORY
. "$(git --exec-path)/git-sh-setup"

# check args
if [[ -z "$*" || "$*" == *--help* ]]; then
	die "$LONG_USAGE"
fi

# change timestamp of last commit
date="$(date "$@")" || exit
GIT_COMMITTER_DATE="$date" git commit --amend --date "$date" --no-edit

